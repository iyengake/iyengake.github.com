<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Notes on Erlang QuickCheck - Part 2 &#8211; Keerthi Iyengar</title>
<meta name="description" content="Infrastructure, DevOps, BigData, Hadoop.">
<meta name="keywords" content="erlang, testing, quickcheck">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://iyengake.github.io/images/bg_08.jpg">

<meta name="twitter:title" content="Notes on Erlang QuickCheck - Part 2">
<meta name="twitter:description" content="Infrastructure, DevOps, BigData, Hadoop.">
<meta name="twitter:creator" content="@keerthiiyengar2">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Notes on Erlang QuickCheck - Part 2">
<meta property="og:description" content="Infrastructure, DevOps, BigData, Hadoop.">
<meta property="og:url" content="http://iyengake.github.io/erlang/notes-on-erlang-quickcheck-part-2">
<meta property="og:site_name" content="Keerthi Iyengar">
<meta property="og:image" content="http://iyengake.github.io/images/bg_08.jpg">





<link rel="canonical" href="http://iyengake.github.io/erlang/notes-on-erlang-quickcheck-part-2">
<link href="http://iyengake.github.io/feed.xml" type="application/atom+xml" rel="alternate" title="Keerthi Iyengar Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

    
    <link rel="stylesheet" type="text/css" href="http://iyengake.github.io/assets/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="http://iyengake.github.io/assets/css/style.css" />

<div class="search-wrapper">
    <div class="search-form">
        <input type="text" class="search-field" placeholder="Search...">
        <i class="icon-remove-sign"></i>
        <ul class="search-results post-list"></ul><!-- /.search-results -->
    </div><!-- /.search-form -->
</div><!-- ./search-wrapper -->




<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://iyengake.github.io/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://iyengake.github.io/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://iyengake.github.io/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://iyengake.github.io/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://iyengake.github.io/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://iyengake.github.io/images/apple-touch-icon-144x144-precomposed.png">

</head>
<body class="post-template" itemscope itemtype="http://schema.org/WebPage">  
<header id="masthead" class="blog-background overlay align-center align-middle animated from-bottom"  style="background-image: url(http://iyengake.github.io/images/bg_08.jpg)" itemscope itemtype="http://schema.org/Organization">


    <div class="inner">
        <div class="container">
            <a class="brand" href="http://iyengake.github.io" role="banner" itemprop="url">
                
                    <img itemprop="logo" src="http://iyengake.github.io/images/omikron.png" alt="Keerthi Iyengar Logo" />

            <h1 class="blog-title light" itemprop="name">
                Keerthi Iyengar
            </h1>
                
            </a>
        </div>
    </div>
    
    
    <div class="decor-wrapper">
        <svg id="header-decor" class="decor bottom" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 100 100" preserveAspectRatio="none">
            <path class="large left" d="M0 0 L50 50 L0 100" fill="rgba(255,255,255, .1)"></path>
            <path class="large right" d="M100 0 L50 50 L100 100" fill="rgba(255,255,255, .1)"></path>

            <path class="medium left" d="M0 100 L50 50 L0 33.3" fill="rgba(255,255,255, .3)"></path>
            <path class="medium right" d="M100 100 L50 50 L100 33.3" fill="rgba(255,255,255, .3)"></path>

            <path class="small left" d="M0 100 L50 50 L0 66.6" fill="rgba(255,255,255, .5)"></path>
            <path class="small right" d="M100 100 L50 50 L100 66.6" fill="rgba(255,255,255, .5)"></path>

            <path d="M0 99.9 L50 49.9 L100 99.9 L0 99.9" fill="rgba(255,255,255, 1)"></path>

            <path d="M48 52 L50 49 L52 52 L48 52" fill="rgba(255,255,255, 1)"></path>

        </svg>
    </div>
    
</header>
<div id="main" class="content" role="main" itemprop="mainContentOfPage" itemscope itemtype="http://schema.org/Blog">
    <div class="container">
        <div class="row">
            <article class="post col-md-8 col-md-offset-2 hentry" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
            
            
            
                
            
             
             
                    <header class="post-header entry-header">
                        
                        <h1 class="post-title text-center hyper lighter bordered-bottom entry-title" itemprop="headline">Notes on Erlang QuickCheck - Part 2</h1>
                        
                        <div class="post-info text-center small">
                            <span class="entry-date date published"><time datetime="2014-12-04T00:00:00-05:00" class="post-time" itemprop="datePublished">04 Dec 2014</time><span>
                            in <span class="post-tags"><a href="http://iyengake.github.io/categories/index.html#erlang" data-toggle="tooltip" title="Other posts from the Erlang category" rel="tag">Erlang</a></span>&nbsp;<span class="post-tags"><i class="icon-time"></i>&nbsp;8 minutes read</span>
                        </div>
                    </header>
                    <div class="post-body bordered-bottom" itemprop="description">
                        
                        <p>Yesterday I had the pleasure of spending
a few extra hours with
<a href="http://www.cse.chalmers.se/~rjmh/">John Hughes</a>.
As usual, it has been an impressive learning experience, so I decided - <a href="http://roberto-aloi.com/erlang/notes-on-erlang-quickcheck/">once
again</a> -
to share some of the highlights from our discussions.</p>

<p>We modeled one of our internal Erlang applications, using a Quickcheck
<em>statem</em>. The application was relatively small
(i.e. &lt;1000 LOC), it offered a pretty straightforward API and its code
was already covered by a fair amount of unit tests, with code coverage
surpassing 90%.</p>

<p>As already happened to
<a href="http://basho.com/quickchecking-poolboy-for-fun-and-profit/">someone else</a>,
I didn’t expect to find too many bugs, if not in the Quickcheck model
itself.
Once again, Quickcheck proved me to be very wrong, finding five or six
corner cases which caused the tests
to fail. It also revealed some interesting behaviour for the
application which, even if ineherently correct, was not clearly documented.</p>

<p>It took me a couple of days to get familiar with the
application and its API, to implement a decent model for it and to
wrap up everything into a pull request and into these notes.</p>

<p>So, let’s start go through a couple of learnt lessons.</p>

<h3 id="is-zero-a-natural-number">Is ‘zero’ a natural number?</h3>

<p>There is no universal agreement about whether to include zero in the
set of <a href="http://en.wikipedia.org/wiki/Natural_number">natural numbers</a>.
In Erlang QuickCheck, zero is considered a natural number, so it <strong>can</strong>
be generated by the <code>eqc_gen:nat/0</code> generator. In fact, a <code>nat()</code> normally
shrinks to <code>0</code>. This is easily verifiable by means of the
<code>eqc_gen:sampleshrink/1</code> function which, given a generator <code>G</code>,
prints a value generated by <code>G</code>, followed by <strong>one way</strong> of shrinking
it:</p>

<pre><code>&gt; eqc_gen:sampleshrink(eqc_gen:nat()).
3
--&gt; [0,2]
ok
&gt; eqc_gen:sampleshrink(eqc_gen:nat()).
8
--&gt; [0,2,6,7]
ok
</code></pre>

<p>If you want to exclude the zero from the possible outcomes, you can
define something like:</p>

<pre><code>non_zero_nat() -&gt;
    ?SUCHTHAT(N, eqc_gen:nat(), N &gt; 0).
</code></pre>

<h3 id="code-coverage-for-erlang-quickcheck">Code coverage for Erlang Quickcheck</h3>

<p>Quickcheck does not provide code coverage information out of the box,
so you need to use an external coverage analysis tool such as
<a href="http://www.erlang.org/doc/man/cover.html">cover</a> to obtain that
piece of information.</p>

<p>If you use the <a href="https://github.com/rebar/rebar">rebar</a> build
tool to compile and test your Erlang applications, there is an easy
solution to the problem. In fact, even if
<a href="https://github.com/rebar/rebar/wiki/Getting-started#checking-code-coverage-statistics">rebar’s cover support</a>
is currently limited to the EUnit testing framework, that is going to
be enough in most of the cases. The trick is to  wrap your Quickcheck
properties into
<a href="http://www.erlang.org/doc/apps/eunit/chapter.html">EUnit</a> test suites.</p>

<p>Simply add the EUnit header file <strong>after</strong> the Quickcheck one:</p>

<pre><code>-include_lib("eqc/include/eqc.hrl").
...
-include_lib("eunit/include/eunit.hrl").
</code></pre>

<p>And wrap each Quickcheck property into a EUnit test case. The result
should look something like this, where the timeout is
expressed in seconds:</p>

<pre><code>prop_sample_test_() -&gt;
  { "prop_sample", {timeout, 10, ?_assert(eqc:quickcheck(?MODULE:prop_sample()))}}.
</code></pre>

<p>That’s it. You can now verify your Quickcheck properties via Eunit:</p>

<pre><code>./rebar skip_deps=true eunit
</code></pre>

<p>And get your coverage reports in <code>.eunit/index.html</code>.</p>

<h3 id="generic-servers-the-application-controller-and-the-terminate1-function">Generic servers, the application controller and the <code>terminate/1</code> function</h3>

<p>One of the most interesting issues which emerged while implementing
our Quickcheck <em>statem</em> model was related to the
<a href="http://www.erlang.org/doc/man/gen_server.html#Module:terminate-2">semantics</a>
of the <code>terminate/1</code> callback function for the
<a href="http://www.erlang.org/doc/man/gen_server.html"><code>gen_server</code></a> OTP
behaviour.</p>

<p>In fact, while adding commands to our <em>statem</em>, we noticed a rarely
occurring issue. I say “rarely” since it only
appeared after increasing the number of generated test cases from
the <em>100</em> (default value) to <em>1000</em>:</p>

<pre><code>eqc:quickcheck(eqc:numtests(1000, sample_eqc:sample_prop())).
</code></pre>

<p>The issue seemed to happen on an application <em>restart</em> (i.e. a <code>stop</code>
command immediately followed by a <code>start</code> command). Both commands were
using the
<a href="http://www.erlang.org/doc/man/application.html"><code>application</code></a> module
to start and stop the Erlang application.
Some basic tracing revealed that the
application was not cleaning up things properly upon termination. The
guilty process seemed to be a <code>gen_server</code>. We immediately noticed
that the process was not trapping exits, which prevented the
<code>terminate/1</code> from executing. So far,
nothing too interesting. We enabled the <code>trap_exit</code> flag for the
<code>gen_server</code> and we re-run the tests.</p>

<p>At this point the tests passed, but they were taking very long time,
which was a bit
surprising. The <code>terminate/2</code> function, containing the cleanup
code, seemed harmless at a first glance. Nonethless, the <code>gen_server</code>
process was hanging somewhere, so that the supervisor had to kill
it after the
configured <code>shutdown</code> time, which was set to <em>5</em> seconds.</p>

<p>A second look at the cleanup function pointed to a suspicious
<code>application:set_env/3</code> call. The server was trying to set an
application environment variable before dying. A rapid exploration of
the OTP for the
<a href="https://github.com/erlang/otp/blob/OTP-17.3.4/lib/kernel/src/application_controller.erl#L464">application_controller</a>
module revealed the mystery.</p>

<p>In OTP, the application environment is handled via a ETS table, which
is accessed via the <code>application_controller</code> process. Whilst reading
an environment variable is implemented as a mere lookup operation, <strong>writes
are serialized through the application controller</strong>. In other words,
<strong>it is not possible to set an environment variable from a
<code>terminate/1</code> callback function in a gen_server which traps exits</strong>,
since in case of application termination the application controller is
busy shutting down the application itself and cannot handle other
requests, causing a deadlock. A minimal example showing the <em>deadlock</em>
can be found in the following
<a href="https://gist.github.com/robertoaloi/249c6bb9e607fb53d8b6">gist</a>.</p>

<p>Even if the <code>terminate/1</code> was covered by unit tests, the issue never
emerged since in that case the <code>terminate</code> function was not called via
the application controller, but as the consequence of a normal exit signal.</p>

<p>Yet another example of a buggy function 100% covered by unit tests has
been found. Praises to Quickcheck!</p>

<h3 id="show-states">Show states</h3>

<p>When implementing the model for a Quickcheck <em>statem</em>, you often end up
with counter-examples which are a direct consequence of bugs in your
properties, missing preconditions and postconditions or incorrect
state updates. In such cases, it’s a good idea to include model states
into the standard Quickcheck output. You can customize Quickcheck
pretty-printing by using <code>eqc_gen:with_parameters/3</code> and enabling the
<code>show_states</code> flag:</p>

<pre><code>prop_sample() -&gt;
  ?FORALL(Cmds, commands(?MODULE),
  begin
    {H, S, Res} = run_commands(?MODULE, Cmds),
    with_parameters(
      [{show_states, true}],
      pretty_commands(
        ...
</code></pre>

<p>Alternatively, you can display the model states by using the
<code>eqc_statem:show_states/1</code> function, useful if you are quick-checking
your properties from the shell:</p>

<pre><code>eqc:quickcheck(eqc_statem:show_states(Prop)).
</code></pre>

<p>By including model states into the output you’ll tend to have some quite
verbose output, so the suggestion is to keep the flag disabled by default
and to enable it only when needed.</p>

<h3 id="generating-unique-lists">Generating unique lists</h3>

<p>Sometimes you have a complex data structure (let’s call it an <em>item</em>)
and you want to generate a list of <em>items</em>, ensuring that the list
does not contain duplicates. You’re going to add the generated list to
your state and you want to ensure that any element of the list already
exists in the state.</p>

<p>The trick to solve the above in a way that ensures a decent shrinking
behaviour for your generator is to split the existing problem into
smaller ones. For the sake of simplicity, let’s assume that a
complex <em>item</em> is a
2-elements tuple and that the first element of the tuple is an <em>id</em>
which identifies a tuple. Let’s also assume that an <em>id</em> is a natural
number.</p>

<p>What you can do is to generate a list of unique ids. You can use the
<code>lists:usort/1</code> function to ensure there are not duplicates. The
condition ensures that the generated element is not already part of
the state.</p>

<pre><code>uids(S) -&gt;
  ?LET(L, list(nat()),
       [X || X &lt;- lists:usort(L), not lists:keymember(X, 1, S#state.items)]).
</code></pre>

<p>Starting from the generated list of unique ids, you can then construct a list
of <em>complex items</em>:</p>

<pre><code>items(S) -&gt;
  ?LET(Ids, uids(S), [item(Id) || Id &lt;- Ids]).
</code></pre>

<p>Where the <code>item/1</code> function creates a complex data
structure starting from an identifier”</p>

<pre><code>item(Id) -&gt;
  ?LET(Value, some_value_generator(), {Id, Value}).
</code></pre>

<h3 id="no-spikes-in-time">No spikes in time</h3>

<p>One of the properties you may want to verify is that a single API request
doesn’t take longer than a certain amount of time. A simple way to
check this is to use the
<a href="http://www.erlang.org/doc/man/timer.html#tc-1"><code>timer:tc/1</code></a>
function. There are a couple of important
considerations to be made about this function. For example, it is advised to run
it from a newly spawned process and to call <code>erlang:garbage_collect/1</code>
just before using it, to lower the possibilities the Erlang garbage collector
starts its job during the measurement. Nonethless, if you don’t need
extremely accurate measurements, the following approach may be <em>good
enough</em> for you.</p>

<p>Let’s assume you have an <em>exec</em> command in your Quickcheck <em>statem</em>:</p>

<pre><code>exec_command(S) -&gt;
  Args = ...
  {call, ?MODULE, exec, [Args]}.
</code></pre>

<p>Your <code>?MODULE:exec/1</code> function should then look something like:</p>

<pre><code>exec(Args) -&gt;
  timer:tc(server, exec, [Args]).
</code></pre>

<p>And the postcondition would look something like:</p>

<pre><code>exec_post(S, [Args], {Time, Result}) -&gt;
  Time &lt; expected_time(exec, Args) andalso Result ...
</code></pre>

<p>Where:</p>

<pre><code>expected_time(exec, Args) -&gt; 10 * 1000. %% 10 ms
</code></pre>

<p>As a plus, you may want collect some statistics about times (which are
now part of the command results) in your property, via the
<code>aggregate/2,3</code> and <code>collect/2,3</code> functions.</p>

<h3 id="dealing-with-race-conditions">Dealing with race conditions</h3>

<p>In our case, it proved to be really hard to provoke the race condition
which caused our property to fail. This is why we wrapped our property into a
<code>?ALWAYS(N, Prop)</code> to repeat the same test several time:</p>

<pre><code>prop_sample() -&gt;
  ?FORALL(Attempts, ?SHRINK(1, [100]),
    ?FORALL(Cmds, commands(?MODULE),
      ?ALWAYS(Attempts,
        begin
          ...
        end))).
</code></pre>

<p>Notice how we <em>abused</em> the <code>?SHRINK</code> macro to force Quickcheck to test
each case once while searching for a failure and then 100 times for
each shrinking attempt.</p>

<h3 id="amending-the-counterexample">Amending the counterexample</h3>

<p>In case of a failing property, Quickcheck stores a copy of the
counter-example found. The last counter-example can be retrieved by
the <code>eqc:counterexample/0</code> function. Once fetched, it can be used to
repeat a test or to test a different property in the same case, for
example using the <code>eqc:check(Prop)</code> function.</p>

<p>The <code>eqc:counterexample/0</code> function returns a <code>counterexample()</code>
abstract data type. With the current version of Quickcheck, it’s
possible to decompose the return value into a list of two elements:</p>

<pre><code>[N,C] = eqc:counterexample().
</code></pre>

<p>The second element (<code>C</code>) is the actual counter-example, whilst the
first element (<code>N</code>) represents the number of attempts you want to
re-try that test. If you want to re-try the counterexample a certain
amount of times, you can simply do:</p>

<pre><code>eqc:check(sample_eqc:prop_sample(), [1000, B]).
</code></pre>

                        <br>
                    <span class="entry-tags">
                    <p>
                        <i class="icon-tags"></i>&nbsp;Tagged with <a href="http://iyengake.github.io/tags/index.html#erlang" data-toggle="tooltip" title="Posts tagged with erlang" rel="tag">erlang</a>&nbsp;&bull;&nbsp;<a href="http://iyengake.github.io/tags/index.html#testing" data-toggle="tooltip" title="Posts tagged with testing" rel="tag">testing</a>&nbsp;&bull;&nbsp;<a href="http://iyengake.github.io/tags/index.html#quickcheck" data-toggle="tooltip" title="Posts tagged with quickcheck" rel="tag">quickcheck</a>
                    </p>
                    </span>
                    </div>
        </div>
                    <footer class="post-footer entry-meta">
                        <div class="post-share text-center">
    <p class="light small">
        Share this post
    </p>
    <ul class="social-mini">
        <li>
            <a href="https://twitter.com/intent/tweet?text=&quot;Notes on Erlang QuickCheck - Part 2&quot;%20http://iyengake.github.io/erlang/notes-on-erlang-quickcheck-part-2%20via%20&#64;keerthiiyengar2"
            onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" data-toggle="tooltip" title="Share on Twitter" itemprop="Twitter">
                <i class="icon-twitter"></i>
            </a>
        </li>
        <li>
            <a  href="https://www.facebook.com/sharer/sharer.php?u=http://iyengake.github.io/erlang/notes-on-erlang-quickcheck-part-2"
            onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" data-toggle="tooltip" title="Share on Facebook" itemprop="Facebook">
                <i class="icon-facebook"></i>
            </a>
        </li>
        <li>
            <a href="https://plus.google.com/share?url=http://iyengake.github.io/erlang/notes-on-erlang-quickcheck-part-2"
           onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;" data-toggle="tooltip" title="Share on Google plus" itemprop="GooglePlus">
                <i class="icon-google-plus"></i>
            </a>
        </li>
    </ul>
</div>
                        <div class="post-author text-center">                       
	        <img src="http://iyengake.github.io/images/roberto-aloi.png" alt="Keerthi Iyengar's photo" itemprop="image" class="post-avatar img-circle img-responsive"/>    
	    <h4 class="bordered-bottom vcard author" itemprop="author" itemscope itemtype="http://schema.org/Person">By <span itemprop="name" class="fn"><a href="http://iyengake.github.io/about" title="About Keerthi Iyengar" itemprop="url">Keerthi Iyengar</a></span></h4>
	    <p>Keerthi Iyengar...</p>
</div> 
                        <div id="disqus_thread"></div><!-- /#disqus_thread -->
                    </footer>
            </article>
    </div>
</div>

<footer id="footer"  class="blog-background overlay text-center align-middle animated from-top" style="background-image: url(http://iyengake.github.io/images/bg_08.jpg)" >


    <div class="inner">
        <div class="container">

            <ul class="social-icons">
            
            <li>
                <a href="http://twitter.com/keerthiiyengar2" data-toggle="tooltip" title="Keerthi Iyengar on Twitter" target="_blank">
                    <i class="icon-twitter"></i>
                </a>
            </li>
            
            
            
            
            
            <li>
                <a href="http://github.com/iyengake" data-toggle="tooltip" title="Keerthi Iyengar on Github" target="_blank">
                    <i class="icon-github"></i>
                </a>
            </li>
        </ul>
            <p class="copy-text">
                <a href="http://iyengake.github.io/about/">Keerthi Iyengar</a> &copy; 2015 &bull; All rights reserved.
            </p>
            <p class="copy-text">
                Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <i class="icon-heart"></i> <a href="http://alum.mit.edu/www/hmfaysal/">HMFAYSAL OMEGA</a> theme.
            </p>
            <ul class="menu-items">
            
            <li>
                
                    <a href="http://iyengake.github.io/"><i class="icon-home"></i></a>&nbsp;&bull;
                 
            </li>
            
            <li>
                
                    <a href="http://iyengake.github.io/categories">Categories</a>&nbsp;&bull;
                 
            </li>
            
            <li><a href="http://iyengake.github.io/feed.xml" title="Atom/RSS feed"><i class="icon-rss"></i> Feed</a></li>
            &nbsp;&bull;<li class="dosearch"><i class="icon-search"></i> Search</li>
        </ul>
        </div>
    </div>
    
        <div class="decor-wrapper">
            <svg id="footer-decor" class="decor top" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 100 100" preserveAspectRatio="none">

                <path class="large left" d="M0 0 L50 50 L0 100" fill="rgba(255,255,255, .1)"></path>
                <path class="large right" d="M100 0 L50 50 L100 100" fill="rgba(255,255,255, .1)"></path>

                <path class="medium left" d="M0 0 L50 50 L0 66.6" fill="rgba(255,255,255, .3)"></path>
                <path class="medium right" d="M100 0 L50 50 L100 66.6" fill="rgba(255,255,255, .3)"></path>

                <path class="small left" d="M0 0 L50 50 L0 33.3" fill="rgba(255,255,255, .5)"></path>
                <path class="small right" d="M100 0 L50 50 L100 33.3" fill="rgba(255,255,255, .5)"></path>

                <path d="M0 0 L50 50 L100 0 L0 0" fill="rgba(255,255,255, 1)"></path>

                <path d="M48 48 L50 51 L52 48 L48 48" fill="rgba(255,255,255, 1)"></path>

            </svg>
        </div>
    
</footer>

    
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://iyengake.github.io/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://iyengake.github.io/assets/js/scripts.min.js"></script>
    <script type="text/javascript" src="http://iyengake.github.io/assets/js/waypoints.min.js"></script>
    <script type="text/javascript" src="http://iyengake.github.io/assets/js/script.js"></script>


<!-- Jekyll Simple Search option -->
<script>
  $(document).ready(function() {
      $('.search-field').simpleJekyllSearch({
          jsonFile : 'http://iyengake.github.io/search.json',
          searchResults : '.search-results',
          template : '<li><article><a href="{url}">{title} <span class="entry-date"><time datetime="{date}">{shortdate}</time></span></a></article></li>',
          noResults: '<p>Nothing found.</p>'
        });
  });

  (function( $, window, undefined ) {
    
     var bs = {
          close: $(".icon-remove-sign"),
          searchform: $(".search-form"),
          canvas: $("body"),
          dothis: $('.dosearch')
      };
    
    bs.dothis.on('click', function() {
      $('.search-wrapper').css({ display: "block" });
      bs.searchform.toggleClass('active');
      bs.searchform.find('input').focus();
      bs.canvas.toggleClass('search-overlay');
    });
    
      bs.close.on('click', function() {
        $('.search-wrapper').removeAttr( 'style' );
        bs.searchform.toggleClass('active');
        bs.canvas.removeClass('search-overlay');
    });
  })( jQuery, window );
</script>


<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'iyengake'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> 
</body>
</html>